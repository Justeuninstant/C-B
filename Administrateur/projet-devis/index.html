<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>√âditeur Devis S√©ance Photo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header class="editor-header">
      <h2>üìù Modifier le Devis</h2>
    </header>

    <!-- FORMULAIRE -->
    <form id="devis-form">
      <!-- Infos g√©n√©rales -->
      <fieldset>
        <legend>Informations G√©n√©rales</legend>
        <label>Date :
          <input type="date" id="input-date" value="2016-01-03">
        </label>
        <label>N¬∞ Devis :
          <input type="text" id="input-numero" value="C&B2025-001">
        </label>
      </fieldset>

      <!-- Infos Client -->
      <fieldset>
        <legend>Client</legend>
        <label>Nom :
          <input type="text" id="input-client-nom" value="CHOMODE Laura">
        </label>
        <label>Adresse :
          <input type="text" id="input-client-adresse" value="[Adresse masqu√©e]">
        </label>
        <label>T√©l√©phone :
          <input type="text" id="input-client-tel" value="06XXXXXXXX">
        </label>
        <label>Email :
          <input type="email" id="input-client-email" value="[adresse email masqu√©e]">
        </label>
      </fieldset>

      <!-- Prestations -->
      <fieldset id="prestation-fieldset">
        <legend>Prestations propos√©es</legend>
        <div id="prestation-lignes"></div>
        <button type="button" class="add-line" onclick="ajouterLigne()">‚ûï Ajouter une ligne</button>
      </fieldset>
      
      <!-- BOUTON AFFICHAGE TIRAGES -->
      <button type="button" id="toggle-tirages" onclick="toggleTirages()">üì¶ Afficher les tirages</button>

      <!-- Tirages -->
      <fieldset id="tirages-fieldset" style="display: none;">
        <legend>Commande(s) des tirages</legend>
        <div id="tirages-lignes"></div>
        <button type="button" class="add-line" onclick="ajouterLigneTirage()">‚ûï Ajouter une ligne de tirage</button>
      </fieldset>

      <!-- Estimation des Frais -->
      <fieldset>
        <legend>Estimation des Frais</legend>
        <label>Estimation des frais de port :
          <input type="number" id="input-frais-port" value="0" step="0.01" min="0"> ‚Ç¨
        </label>
        <legend>Autres frais</legend>

        <label>Distance parcourue (km) :
            <input type="number" id="input-km" step="1" min="0" value="0"> km
        </label>

        <label>Prix par km :
            <input type="number" id="input-km-prix" step="0.01" min="0" value="0.50"> ‚Ç¨
        </label>

        <label>Options suppl√©mentaires :
            <input type="number" id="input-options" step="0.01" min="0" value="0.00"> ‚Ç¨
        </label>
      </fieldset>
    </form>

    <hr>

    <!-- PR√âVISUALISATION DEVIS -->
    <section id="devis-preview">
      <div class="content-wrapper">
        <div class="devis-info">
          <h2>DEVIS</h2>
          <p id="devis-date">Date : 03/01/2016<br>N¬∞ Devis : C&B2025-001</p>

          <div class="infos">
            <div class="photographe">
              <strong>Photographe : Caboche Cindy</strong><br>
              SIRET : 79470307400029<br>
              106 Rue des Fr√®res Caron, 62460 Divion, France<br>
              T√©l : 0665715209<br>
              E-mail : justeuninstant.photographie@gmail.com<br>
              <a href="https://justeuninstant.github.io/Justeuninstant/" target="_blank">justeuninstant.github.io</a>
            </div>
            <div class="client">
              <strong id="client-nom">CHOMODE Laura</strong><br>
              Adresse : <span id="client-adresse">[Adresse masqu√©e]</span><br>
              T√©l : <span id="client-tel">06XXXXXXXX</span><br>
              E-mail : <span id="client-email">[adresse email masqu√©e]</span>
            </div>
          </div>

          <p class="notice">
            Ce devis pr√©sente les prestations propos√©es et les estimations de frais. Il peut √™tre modifi√© avant toute confirmation de commande.
          </p>

          <h3>D√©tails de la s√©ance photo</h3>
          <table class="table" id="table-prestations">
            <thead>
              <tr>
                <th>DATE, HEURE</th>
                <th>LIEU PRESTATION</th>
                <th class="col-description">DESCRIPTION</th>
                <th class="col-formules">FORMULES</th>
                <th>TOTAL TTC</th>
              </tr>
            </thead>
            <tbody>
              <!-- Lignes ajout√©es dynamiquement -->
            </tbody>
          </table>

          <h3 id="titre-tirages" style="display: none;">Commande(s) des tirages</h3>
          <table class="table" id="table-tirages" style="display: none;">
            <thead>
              <tr>
                <th>DATE</th>
                <th>DESCRIPTION</th>
                <th>TOTAL TTC</th>
              </tr>
            </thead>
            <tbody>
              <!-- Lignes ajout√©es dynamiquement -->
            </tbody>
          </table>

          <p class="tva-note">
            Statut : auto-entrepreneur ‚Äì TVA non applicable, art. 293 B du CGI
          </p>
        </div> <!-- fin content-wrapper -->

      </div>

      <div class="total-box">
        <table>
          <tbody>
            <tr><td>Services :</td><td id="total-services">0.00 ‚Ç¨</td></tr>
            <tr><td>Distance totale (<span id="distance-totale">0 km</span>) :</td><td id="total-km">0.00 ‚Ç¨</td></tr>
            <tr><td id="info-km-offerts">Offerts</td></tr>
            <tr id="ligne-options" style="display:none;"><td>Options suppl√©mentaires</td><td id="total-options">0.00 ‚Ç¨</td></tr>
            <tr id="ligne-commandes"><td>Commandes :</td><td id="total-commandes">0.00 ‚Ç¨</td></tr>
            <tr id="ligne-frais-port"><td>Frais de port :</td><td id="total-frais-port">0 ‚Ç¨</td></tr>
            <tr class="total-ttc">
              <td>Total estim√© :</td><td id="total-ttc">0.00 ‚Ç¨</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- BOUTON EXPORT -->
    <button id="download-pdf">üìÑ G√©n√©rer le devis en PDF</button>
  </main>

  <!-- JS LIBS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- TON SCRIPT JS -->
  <script src="devis.js"></script>

</body>
</html>
